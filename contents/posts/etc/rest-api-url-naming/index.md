---
title: "REST API μ„¤κ³„ λ° λ…λ…κ·μΉ™"
description: "μ–΄λ–»κ² κΈ€μ„ μ‘μ„±ν•κ³  μ¶”κ°€ν• κΉμ”?"
date: 2024-01-14
update: 2024-01-16
tags:
  - REST API
series: "REST API"
---

## REST APIλ€?

> π’΅ RESTλ” Representational State Transferμ μ•½μλ΅, μ›Ήμ—μ„ λ°μ΄ν„°λ¥Ό μ „μ†΅ν•κ³  μ²λ¦¬ν•λ” λ°©λ²•μ„ μ •μν• ν•λ‚μ μΈν„°νμ΄μ¤λ¥Ό λ§ν•λ‹¤.


![img.png](img.png)
REST APIμ κ°λµμ μΈ κµ¬μ΅°(μ¶μ² : cloudinary)

## REST API 6κ°€μ§€ νΉμ§•

1. **λ¬΄μƒνƒ(Statelessness):**Β ν΄λΌμ΄μ–ΈνΈμ—μ„ μ„λ²„λ΅μ κ° μ”μ²­μ€ ν•΄λ‹Ή μ”μ²­μ„ μ΄ν•΄ν•κ³  μ²λ¦¬ν•λ” λ° ν•„μ”ν• λ¨λ“  μ •λ³΄λ¥Ό ν¬ν•¨ν•΄μ•Ό ν•©λ‹λ‹¤. μ„λ²„λ” μ”μ²­ μ‚¬μ΄μ— ν΄λΌμ΄μ–ΈνΈ μƒνƒμ— λ€ν• μ •λ³΄λ¥Ό μ €μ¥ν•΄μ„λ” μ• λ©λ‹λ‹¤.
2. **ν΄λΌμ΄μ–ΈνΈ-μ„λ²„ μ•„ν‚¤ν…μ²:**Β ν΄λΌμ΄μ–ΈνΈμ™€ μ„λ²„λ” λ„¤νΈμ›ν¬λ¥Ό ν†µν•΄ ν†µμ‹ ν•λ” λ³„κ°μ μ—”ν„°ν‹°μ…λ‹λ‹¤. ν΄λΌμ΄μ–ΈνΈλ” μ‚¬μ©μ μΈν„°νμ΄μ¤μ™€ μ‚¬μ©μ κ²½ν—μ— μ±…μ„μ„ μ§€κ³ , μ„λ²„λ” μ”μ²­μ„ μ²λ¦¬ν•κ³  λ¦¬μ†μ¤λ¥Ό κ΄€λ¦¬ν•©λ‹λ‹¤.
3. **μΌκ΄€λ μΈν„°νμ΄μ¤:**Β μ•„ν‚¤ν…μ²λ¥Ό λ‹¨μν™”ν•κ³  λ¶„λ¦¬ν•λ” μΌλ ¨μ μ μ•½ μ΅°κ±΄μ…λ‹λ‹¤. μΌκ΄€λ μΈν„°νμ΄μ¤λ” URI(Uniform Resource Identifier)λ¥Ό ν†µν• λ¦¬μ†μ¤ μ‹λ³„, ν‘ν„μ„ ν†µν• λ¦¬μ†μ¤ μ΅°μ‘, ν‘μ¤€ HTTP λ©”μ„λ“(GET, POST, PUT, DELETE) μ‚¬μ© λ“±μ μ›μΉ™μ„ ν¬ν•¨ν•©λ‹λ‹¤.
4. **λ¦¬μ†μ¤ μ¤‘μ‹¬:**Β λ¦¬μ†μ¤(λ°μ΄ν„° κ°μ²΄ λλ” μ„λΉ„μ¤μ™€ κ°™μ€)λ” URIμ— μν•΄ μ‹λ³„λλ©° ν‘μ¤€ HTTP λ©”μ„λ“λ¥Ό μ‚¬μ©ν•μ—¬ μ΅°μ‘λ©λ‹λ‹¤.
5. **ν‘ν„(Representation):**Β λ¦¬μ†μ¤λ” μ—¬λ¬ ν‘ν„(JSON λλ” XMLκ³Ό κ°™μ€)μ„ κ°€μ§ μ μμΌλ©° ν΄λΌμ΄μ–ΈνΈλ” μ„λ²„μ™€ ν‘ν„μ„ ν‘μƒν•  μ μμµλ‹λ‹¤.
6. **λ¬΄μƒνƒ ν†µμ‹ (Stateless Communication):**Β ν΄λΌμ΄μ–ΈνΈμ—μ„ μ„λ²„λ΅μ κ° μ”μ²­μ€ ν•΄λ‹Ή μ”μ²­μ„ μ΄ν•΄ν•κ³  μ²λ¦¬ν•λ” λ° ν•„μ”ν• λ¨λ“  μ •λ³΄λ¥Ό ν¬ν•¨ν•΄μ•Ό ν•©λ‹λ‹¤. μ„λ²„λ” μ”μ²­ μ‚¬μ΄μ— ν΄λΌμ΄μ–ΈνΈ μƒνƒλ¥Ό μ €μ¥ν•μ§€ μ•μµλ‹λ‹¤.
7. **λ¬΄μƒνƒ μ„λ²„(Stateless Server):**Β μ„λ²„λ” ν΄λΌμ΄μ–ΈνΈ μƒνƒλ¥Ό μ €μ¥ν•μ§€ μ•μµλ‹λ‹¤. κ° μ”μ²­μ€ ν•΄λ‹Ή μ”μ²­μ„ μ΄ν•΄ν•κ³  μ²λ¦¬ν•λ” λ° ν•„μ”ν• λ¨λ“  μ •λ³΄λ¥Ό ν¬ν•¨ν•©λ‹λ‹¤.
8. **μΊμ‹ κ°€λ¥μ„±(Cacheability):**Β μ„λ²„μ—μ„μ μ‘λ‹µμ€ λ…μ‹μ μΌλ΅ μΊμ‹ κ°€λ¥ν•κ±°λ‚ μΊμ‹ λ¶κ°€λ¥ν•κ² ν‘μ‹λ  μ μμ–΄ ν΄λΌμ΄μ–ΈνΈκ°€ μ‘λ‹µμ„ μΊμ‹ν•μ—¬ μ„±λ¥μ„ ν–¥μƒμ‹ν‚¬ μ μμµλ‹λ‹¤.
9. **κ³„μΈµν™”λ μ‹μ¤ν…(Layered System):**Β μ•„ν‚¤ν…μ²λ” μ—¬λ¬ κ³„μΈµ(ν”„λ΅μ‹, κ²μ΄νΈμ›¨μ΄ λ° λ°©ν™”λ²½κ³Ό κ°™μ€)μΌλ΅ κµ¬μ„±λ  μ μμ–΄ μ‹μ¤ν…μ ν™•μ¥μ„±κ³Ό λ³΄μ•μ„ ν–¥μƒμ‹ν‚¬ μ μμµλ‹λ‹¤.

## **REST APIλ¥Ό μ μ‘μ„±ν•κΈ° μ„ν• 15κ°€μ§€ λ°©λ²•**

### **1. μ—”λ“ν¬μΈνΈ κ²½λ΅μ—λ” λ…μ‚¬λ¥Ό μ‚¬μ©**

**κ²€μƒ‰ν•κ±°λ‚ μ΅°μ‘ν•λ” μ—”ν„°ν‹°λ¥Ό λ‚νƒ€λ‚΄λ” λ…μ‚¬λ¥Ό**Β ν•­μƒ κ²½λ΅ μ΄λ¦„μΌλ΅Β μ‚¬μ©ν•΄μ•Ό ν•λ©° ν•­μƒΒ **λ³µμν•**Β μ§€μ •μ„ μ‚¬μ©ν•λ” κ²ƒμ΄ μΆ‹λ‹¤.Β **HTTP μ”μ²­ λ©”μ„λ“**Β μ— μ΄λ―Έ λ™μ‚¬κ°€ μκ³  μ‹¤μ λ΅ μƒ μ •λ³΄λ¥Ό μ¶”κ°€ν•μ§€ μ•μΌλ―€λ΅Β μ—”λ“ν¬μΈνΈ κ²½λ΅μ— λ™μ‚¬λ¥Ό μ§€μ–‘ν•΄μ•Όν•λ‹¤.

μ‘μ—…μ€ μ°λ¦¬κ°€ λ§λ“¤κ³  μλ” HTTP μ”μ²­ λ©”μ„λ“λ΅ ν‘μ‹λμ–΄μ•Ό ν•¨.Β 
κ°€μ¥ μΌλ°μ μΈ λ°©λ²•μ€ GET, POST, PATCH, PUT λ° DELETEμ΄λ‹¤.

![img_1.png](img_1.png)


> π’΅ **HTTP μ”μ²­λ©”μ†λ“**
> - GETμ€ λ¦¬μ†μ¤λ¥Ό κ²€μƒ‰ν•©λ‹λ‹¤.
> - POSTλ” μƒ λ°μ΄ν„°λ¥Ό μ„λ²„μ— μ μ¶ν•©λ‹λ‹¤.
> - PUT/PATCHλ” κΈ°μ΅΄ λ°μ΄ν„°λ¥Ό μ—…λ°μ΄νΈν•©λ‹λ‹¤.
> - DELETEλ” λ°μ΄ν„°λ¥Ό μ κ±°ν•©λ‹λ‹¤.
> - HEAD: GETκ³Ό λ™μΌν•μ§€λ§ μ‘λ‹µ λ³Έλ¬Έμ΄ μ—†μµλ‹λ‹¤. λ¦¬μ†μ¤μ ν—¤λ”λ§ κ²€μƒ‰ν•λ” λ° μ‚¬μ©λ©λ‹λ‹¤.
> - TRACE: λ€μƒ λ¦¬μ†μ¤μ— λ€ν• κ²½λ΅λ¥Ό λ”°λΌ λ©”μ‹μ§€ λ£¨ν”„λ°± ν…μ¤νΈλ¥Ό μν–‰ν•λ” λ° μ‚¬μ©λ©λ‹λ‹¤.
> - OPTIONS: λ€μƒ λ¦¬μ†μ¤μ— λ€ν• ν†µμ‹  μµμ…μ„ μ„¤λ…ν•λ” λ° μ‚¬μ©λ©λ‹λ‹¤.<br/>
>   λΈλΌμ°μ €λ” μ„λ²„μ CORS ν—¤λ”λ¥Ό ν™•μΈν•κΈ° μ„ν•΄ μ‹¤ν–‰ μ „ μ”μ²­
> - CONNECT: λ™μ μΌλ΅ ν„°λ„λ΅ μ „ν™ν•  μ μλ” ν”„λ΅μ‹μ™€ ν•¨κ» μ‚¬μ©ν•λ„λ΅ μμ•½λμ–΄ μμµλ‹λ‹¤. λ„¤νΈμ›ν¬ ν„°λ„μ„ μ„¤μ •ν•λ” λ° μ‚¬μ©λ©λ‹λ‹¤.


1. GET /members
2. GET /get-members

μ„μ—μ„ κ¶μ¥ν• λ°©λ²•λ€λ΅λΌλ©΄, 1λ²μ΄ μ³μ€ κ²ƒ. μ΄λ―Έ GETμ΄λΌλ” HTTP λ©”μ†λ“κ°€ ν•΄λ‹Ή APIμ μ—­ν• μ„ μ¶©λ¶„ν μ„¤λ…ν•κ³  μκΈ° λ•λ¬Έμ—, λ§μ§€λ§‰ κ²½λ΅μ— λ™μ‚¬λ¥Ό λ„£κ² λλ©΄ μ¤‘λ³µλ μ„¤λ…μ΄ λλ‹¤.

ν•΄λ‹Ή λ°©λ²•μΌλ΅ HTTP μ”μ²­ λ©”μ†λ“λ¥Ό λ³΄λ©΄ μ•„λμ²λΌ μμ‹λ¥Ό λ³΄μ—¬μ¤„ μ μλ‹¤.


> π’΅ νμ› λ©λ΅ /members -> GET<br/>
> νμ› λ“±λ΅ /members -> POST<br/>
> νμ› μ΅°ν /members/{id} -> GET<br/>
> νμ› μμ • /members/{id} -> PATCH, PUT, POST<br/>
> νμ› μ‚­μ  /members/{id} -> DELETE<br/>



### 2. λ°μ΄ν„° μ†΅μμ‹  ν¬λ©§μΌλ΅λ” JSONμ„ μ‚¬μ©ν•μ.

μμ „μ—λ” XMLμ„ μ΄μ©ν–μ§€λ§, μµκ·Όμ—λ” JSON(JavaScript Object Notation)κ°€ API λ°μ΄ν„° μ†΅μμ‹  ν‘μ¤€ ν•μ‹μ΄ λμ—λ‹¤.

JSONμ μ¥μ μ„ κ°„λµν•κ² μ„¤λ…ν•λ©΄ λ‹¤μκ³Ό κ°™λ‹¤.

- μΈκ°„μ΄ μ½μ„ μ μλ” ν…μ¤νΈλ΅, μ‚¬μ©μ΄ νΈλ¦¬ν•¨
- μµμ†ν•μ μ •λ³΄λ¥Ό ν•¨μ¶•μ μΌλ΅ ν‘ν„(XMLμ— λΉ„ν•΄ μ μ€ μ©λ‰μΌλ΅ λΉ λ¥΄κ² ν†µμ‹  κ°€λ¥)
- μ–Έμ–΄μ— λ…λ¦½μ 

μΌλ°μ μΌλ΅ μ κ³µλλ” form-dataλ” ν΄λΌμ΄μ–ΈνΈκ°€ ν…μ¤νΈ λλ” μ«μ ν•μ‹μ λ°μ΄ν„°λ¥Ό λ³΄λ‚Ό λ•λ” μ ν•©ν•μ§€ μ•κ³ , μ–΄μ°¨ν”Ό λ€λ¶€λ¶„μ ν”„λ μ„μ›ν¬μ—μ„ ν΄λΌμ΄μ–ΈνΈκ°€ λ°μ΄ν„°λ¥Ό μ „μ†΅ν•  λ• JSONμ„ μ‚¬μ©ν•  μ μλ„λ΅ κΈ°λ¥μ„ μ κ³µν•κ³  μλ‹¤. κ°„λ‹¨ν•κ² ν—¤λ”μ Content-Type λ¶€λ¶„μ„ application/jsonμΌλ΅ μ„¤μ •ν•κΈ°λ§ ν•λ©΄ λλ‹¤.

### 3. HTTP μƒνƒμ½”λ“λ¥Ό μ κ·Ήμ μΌλ΅ ν™μ©ν•μ.

HTTPμ—λ” μ΄λ―Έ μλ§μ€ μ‚¬λλ“¤μ΄ μ‚¬μ©ν•κ³  μλ” μƒνƒ μ½”λ“λ“¤μ΄ μ •μλμ–΄ μλ‹¤. API μ²λ¦¬κ°€ μ •μƒμ μΌλ΅ μ΄λ£¨μ–΄μ΅λ”μ§€, νΉ μ•„λ‹λΌλ©΄ λ¬΄μ¨ μ΄μ μΈμ§€ λ…ν™•ν•κ² ν‘ν„ν•κΈ°μ— κ°€μ¥ μ ν•©ν•λ‹¤.

μƒνƒ μ½”λ“μ—λ” λ€ν‘μ μΌλ΅ μ•„λμ™€ κ°™μ€ μΆ…λ¥κ°€ μλ‹¤.


> π’΅ **λ€ν‘μ μΈ μƒνƒ μ½”λ“**
> - 200 : ν΄λΌμ΄μ–ΈνΈμ μ”μ²­μ΄ μ •μƒμ μΌλ΅ μν–‰λμ—μ
> - 201 : ν΄λΌμ΄μ–ΈνΈκ°€ μƒμ„±κ³Ό κ΄€λ ¨λ μ”μ²­μ„ ν•μ€κ³ , μ΄ μ”μ²­μ΄ μ •μƒμ μΌλ΅ μ™„λ£λ¨(POST)
> - 301 : ν΄λΌμ΄μ–ΈνΈκ°€ μ”μ²­ν• λ°μ΄ν„°μ URIκ°€ λ³€κ²½λμ—μ„ κ²½μ°
> - 400 : ν΄λΌμ΄μ–ΈνΈμ μ”μ²­μ΄ λ¶€μ μ ν• κ²½μ°
> - 401 : ν΄λΌμ΄μ–ΈνΈκ°€ μΈμ¦κ³Όμ •(λ΅κ·ΈμΈ λ“±)μ„ κ±°μΉμ§€ μ•μ€ μƒνƒμ—μ„ λ³΄μ•λ λ°μ΄ν„°μ— μ ‘κ·Όν•λ ¤κ³  ν•λ” κ²½μ°
> - 403 : ν΄λΌμ΄μ–ΈνΈκ°€ μΈμ¦κ³Ό κ΄€λ ¨ μ—†μ΄, μ΅΄μ¬λ” ν•μ§€λ§ μ‘λ‹µν•  μ μ—†λ” λ°μ΄ν„°λ¥Ό μ”μ²­ν• κ²½μ° (μΌλ°μ μΌλ΅ μ‚¬μ© X)
> - 404 : ν΄λΌμ΄μ–ΈνΈκ°€ μΈμ¦κ³Ό κ΄€λ ¨ μ—†μ΄, μ‘λ‹µν•  μ μ—†λ” λ°μ΄ν„°λ¥Ό μ”μ²­ν• κ²½μ° (μΌλ°μ μΌλ΅ μ‚¬μ© O)
> - 405 : ν΄λΌμ΄μ–ΈνΈκ°€ μ”μ²­ν• λ°μ΄ν„°μ— ν•΄λ‹Ή λ©”μ†λ“κ°€ μ΅΄μ¬ν•μ§€ μ•κ±°λ‚ μ‚¬μ© λ¶κ°€λ¥ μƒνƒμΈ κ²½μ°
> - 500 : μ„λ²„μ— λ¬Έμ κ°€ μμ„ κ²½μ°


μ΄ μ™Έμ—λ„ μλ§μ€ μƒνƒ μ½”λ“λ“¤μ΄ μλ”λ°, μ¤‘μ”ν• κ²ƒμ€ β€κ°€μ¥ μµμ†ν•μ κ°μλ¥Ό μ‚¬μ©β€™ν•μ—¬ ν΄λΌμ΄μ–ΈνΈκ°€ API μ”μ²­ λλ” μ‘λ‹µμ— μ μ ν• μƒνƒ μ½”λ“λ¥Ό λ¶€μ—¬ν•  μ μλ„λ΅ ν•λ” κ²ƒμ΄λ‹¤.

### 4. μ‘λ‹µ λ©”μ‹μ§€λ” ν‘μ¤€ν™” λ λ‚΄μ©μΌλ΅ λ°ν™ν•μ.

μ–΄λ– ν• μ”μ²­μ— λ€ν• λ°μ΄ν„°λΌ ν•λ”λΌλ„, μ„λ²„λ΅λ¶€ν„° ν•­μƒ μ μ‚¬ν• ν•νƒμ ν‘μ¤€ν™”λ μ‘λ‹µ κµ¬μ΅°λ¥Ό μ‚¬μ©ν•΄μ•Ό ν•λ‹¤. κ·Έλ ‡κ² ν•΄μ•Ό ν΄λΌμ΄μ–ΈνΈλ” λ™μΌν• κµ¬μ΅° λ‚΄μ—μ„ μ›ν•λ” κ°’μ„ μμΈ΅ν•΄μ„ κ°€μ Έμ¬ μ μκ² λλ‹¤. λ§μ•½ μ•„λμ™€ κ°™μ€ κµ¬μ΅°κ°€ μ΅΄μ¬ν•λ‹¤κ³  ν•μ.

```json
[
  {
     bookId: 1,
     name: "The Republic"
  },
  {
     bookId: 2,
     name: "Animal Farm"
  }
]
```

λλ” μ•„λμ™€ κ°™μ΄ μ΅°κΈ λ” μ¤‘μ²©λ κµ¬μ΅°λ¥Ό κ°€μ§ μλ„ μλ‹¤

```json
{
   "data": [ 
     {
       "bookId": 1,
       "name": "The Republic"
     },
     {
       "bookId": 2,
       "name": "Animal Farm"
     }
   ],
   "totalDocs": 200,
   "nextPageId": 3
}
```

λ§μ•½ μƒλ΅μ΄ μ±…μ„ μ¶”κ°€ν•λ‹¤κ³  ν•μ. μ„±κ³µν–μ„ κ²½μ° κ¶μ¥ν•λ” μ‘λ‹µ λ©”μ‹μ§€λ” μ•„λμ™€ κ°™λ‹¤.

```json
// POST /books
{
     "bookId": 3,
     "name": "Toy Story"
}
```

λ§μ•½ μ—¬κΈ°μ„ β€μ±…μ΄ μ„±κ³µμ μΌλ΅ λ“±λ΅λμ—μµλ‹λ‹¤β€™ λΌλ” λ©”μ‹μ§€λ¥Ό μ¶”κ°€ν•λ©΄ μ–΄λ–¨κΉ? λ‹µμ€ β€λ¶ν•„μ”ν•λ‹¤β€™μ΄λ‹¤. μ°λ¦¬λ” μ„μ—μ„ μƒνƒμ½”λ“λ¥Ό ν†µν•΄ ν•΄λ‹Ή μ”μ²­μ΄ μ •μƒμ μΌλ΅ μ™„λ£λμ—λ”μ§€ νΉμ€ λ¬Έμ κ°€ μƒκ²Όλ”μ§€λ¥Ό ν™•μΈν•μκ³  ν–λ‹¤. μ¶”κ°€μ μΈ λ©”μ‹μ§€λ” μ¤‘λ³µλ λ‚΄μ©μ„ ν¬ν•¨ν•λ” κΌ΄λ§ λ§λ“¤κ² λλ‹¤.

μ¤νλ ¤ λ¬Έμ κ°€ λ°μƒν• κ²½μ°μ— λ€ν•΄μ„λ” λ¬΄μ¨ μ¤λ¥κ°€ μμ—λ”μ§€μ— λ€ν• λ©”μ‹μ§€λ¥Ό μ μ–΄μ£Όλ” κ²ƒμ΄ μΆ‹λ‹¤. κ·Έλ ‡κ² ν•΄μ•Ό ν΄λΌμ΄μ–ΈνΈκ°€ ν•΄λ‹Ή λ¬Έμ λ¥Ό λΉ λ¥΄κ² ν™•μΈν•κ³  μ΅°μΉλ¥Ό μ·¨ν•  μ μκΈ° λ•λ¬Έμ΄λ‹¤. μ•„λμ™€ κ°™μ€ μ‘λ‹µμ΄ μ μ ν• μμ‹κ°€ λ  μ μμ„ κ²ƒμ΄λ‹¤.

```json
{
  "code": "book/not_found",
  "message": "A book with the ID 6 could not be found"
}
```

μ‘λ‹µ λ©”μ‹μ§€μ— HTTP μƒνƒ μ½”λ“λ¥Ό ν¬ν•¨ν•  ν•„μ”κΉμ§€λ” μ—†μ§€λ§, κ·Έλλ„ μ‚¬μ©μ λλ” ν΄λΌμ΄μ–ΈνΈκ°€ ν•΄λ‹Ή μ¤λ¥μ— λ€ν•΄ λΉ λ¥΄κ² ν™•μΈν•  μ μλ„λ΅ μ¤λ¥λ¥Ό λ§¤ν•‘ν• μ½”λ“μ™€ μ΄λ¥Ό κ°„λµν•κ² μ„¤λ…ν• λ©”μ‹μ§€ μ •λ„λ” μ •μν•΄λ‘λ” κ²ƒμ΄ μΆ‹λ‹¤. λ¬Όλ΅  μ΄μν™κ²½μ—μ„λ” λ¶ν•„μ”ν• λ³΄μ• μ •λ³΄λ¥Ό λ…Έμ¶ν•κ² λ  μ μκΈ° λ•λ¬Έμ—, κ°λ° λ‹¨κ³„μ—μ„λ§ μ΄λ¥Ό λ…Έμ¶ν•λ” κ²ƒμ΄ μΆ‹λ‹¤.

### **5. νμ΄μ§• κΈ°λ²•μ„ ν™μ©ν•μ—¬ μ»¬λ ‰μ…μΌλ΅ λ°›μ€ λ§μ€ λ°μ΄ν„°λ¥Ό ν¨μ¨μ μΌλ΅ μ²λ¦¬ν•μ.**

λ°μ΄ν„°κ°€ λ§μ•„μ§μλ΅, λ°μ΄ν„°λ¥Ό μ–΄λ–»κ² λ°ν™ν•΄μ„ λ³΄μ—¬μ¤„μ§€κ°€ κµ‰μ¥ν μ¤‘μ”ν•΄μ§„λ‹¤. μ„μ—μ„ μ •μν• API μ¤‘, λ“±λ΅λ μ „μ²΄ μ±…μ κ°μλ¥Ό λ°ν™ν•λ ¤κ³  ν•λ‹¤κ³  κ°€μ •ν•μ. μ±…μ κ°μκ°€ μ μ„ λ•λ” λ¬Έμ κ°€ μ—†κ² μ§€λ§, μλ°±λ§κ¶ νΉμ€ μμ²λ§κ¶μ μ±…μ΄ μλ‹¤κ³  ν•λ‹¤λ©΄ ν•΄λ‹Ή APIλ¥Ό νΈμ¶ν•λ” κ²ƒμ€ μ„±λ¥μ΄λ‚ λ€μ—­ν­ μΈ΅λ©΄μ—μ„ μΆ‹μ§€ λ»ν• μ„ νƒμ΄ λ  μ μλ‹¤.

νμ΄μ§• κΈ°λ²•(Pagination)μ„ μ‚¬μ©ν•λ” λ°©λ²•μΌλ΅λ” ν¬κ² skip, limit λλ” keysetμ΄ μλ‹¤. μΌλ°μ μΌλ΅ skip, limitμ„ μ‚¬μ©ν•μ§€λ§, νμ΄μ§• κΈ°λ²•μ„ μ„ν•΄μ„λΌλ„ keysetμ„ μ‚¬μ©ν•λ” κ²ƒμ„ κ¶μ¥ν•λ‹¤.


> - skip : μ¶λ ¥ν•  λ°μ΄ν„°μ μ‹μ‘λ¶€λ¶„μ„ μ„¤μ •ν•λ‹¤. μ…λ ¥κ°’μΌλ΅ λ“¤μ–΄μ¨ κ°’ + 1λ¶€ν„° μ¶λ ¥ν•λ‹¤.
> - limit : μ¶λ ¥ν•  λ°μ΄ν„°μ κ°μλ¥Ό μ ν•ν•λ‹¤. μ…λ ¥κ°’μΌλ΅ λ“¤μ–΄μ¨ κ°’ λ§νΌλ§ λ°ν™ν•λ‹¤.
> - keyset : μ‹λ³„μ λλ” IDλ¥Ό μ°Έμ΅° κ°’μΌλ΅ λ°›μ•„μ„ ν…μ΄λΈ”μ„ λ³„λ„λ΅ μ¤μΊ”ν•μ§€ μ•κ³  μ΅°κ±΄μ— λ§κ² νμ΄μ§•ν•μ—¬ λ°ν™ν•λ‹¤.


μ¶”κ°€λ΅ APIμ κ²°κ³Ό κ°’μ„ ν•„ν„°λ§ λλ” μ •λ ¬ν•  μ μλ” κΈ°λ¥λ„ ν•„μ”ν•λ‹¤. μ„±λ¥μ„ ν–¥μƒμ‹ν‚¤κΈ° μ„ν•΄ DB μΈλ±μ¤μ—Β μ ‘κ·Ό(Access) ν¨ν„΄μ„ μ μ©ν•κΈ°λ„ ν•λ”λ°, κ²°λ΅ μ μΌλ΅ API νΈμ¶μ— ν•„μ”ν• ν•„ν„°μ™€ μ •λ ¬μ€ μΏΌλ¦¬ νλΌλ―Έν„°μ— μ •μλμ–΄μ•Ό ν•λ‹¤.

```json
# romance λ²”μ£Όμ— μ†ν•λ” μ±… 10κ¶μ„ μ΅°νν•λ‹¤κ³  κ°€μ •ν•λ” API
GET /books?limit=10&category=romance
```

### **6. PUT λ³΄λ‹¤λ” PATCHλ¥Ό μ‚¬μ©ν•μ.**

PUTκ³Ό PATCHμ κ°€μ¥ ν° μ°¨μ΄λ” β€λ°μ΄ν„° λ‚΄μ— λ³€κ²½λλ” μ”μ†μ λ²”μ„β€™μ΄λ‹¤.

- PUT : λ°μ΄ν„° λ‚΄ λ¨λ“  μ”μ†λ¥Ό μμ •
- PATCH : λ°μ΄ν„° λ‚΄ μ”μ† μ¤‘ μΌλ¶€λ§ μμ •

μΌλ°μ μΌλ΅ λ°μ΄ν„° λ‚΄μ— μλ” λ¨λ“  μ”μ†λ¥Ό ν•λ²μ— λ³€κ²½ν•λ” μΌμ€ κ±°μ λ°μƒν•μ§€ μ•λ”λ‹¤. μ¶”κ°€λ΅ μλ„ν•μ§€ μ•κ² λ³€κ²½ν•΄μ„λ” μ•λλ” μ”μ†λ§μ €λ„ λ³€κ²½λ  μ†μ§€κ°€ μ΅΄μ¬ν•λ‹¤. κ·Έλ ‡κΈ° λ•λ¬Έμ— λλ„λ΅μ΄λ©΄ PATCHλ¥Ό κ¶μ¥ν•λ©°, PUTμ„ μ λ€ μ‚¬μ©ν•΄μ„λ” μ•λλ” κ²ƒμ€ μ•„λ‹λ‹¤.

### 7. Extended μµμ…μ„ μ‚¬μ©ν•΄μ„ μ„ νƒμ μΌλ΅ κ²°κ³Ό κ°’μ„ λ°ν™ν•μ.

μ‹μ¤ν…μ΄ μ»¤μ§μλ΅ λ°μ΄ν„° λ‚΄ μ”μ†λ“¤λ„ μ¦κ°€ν•  μ λ°–μ— μ—†λ‹¤. λ¬Έμ λ” λ¨λ“  ν΄λΌμ΄μ–ΈνΈμ—μ„λ„ μ¦κ°€ν• μ”μ†λ“¤μ„ μ „λ¶€ μ‚¬μ©ν•μ§„ μ•λ”λ‹¤λ” κ²ƒμ΄λ‹¤.

μ΄λ¥Ό ν•΄κ²°ν•κΈ° μ„ν•΄ extendedλΌλ” μµμ…μ„ μ‚¬μ©ν•λ‹¤. μ•„λλ” extended μµμ…μ μ λ¬΄μ— λ”°λ¥Έ κ²°κ³Ό κ°’μ μ°¨μ΄λ¥Ό λ³΄μ—¬μ¤€λ‹¤.

```json
GET /books/:id
{
   "bookId": 1,
   "name": "Harry Potter"
}
GET /books/:id?extended=true
{
   "bookId": 1,
   "name": "Harry Potter"
   "tags": ["fantasy", "magic", "UK"],
   "author": {
      "id": 1,
      "name": "J.K.Rowling"
   }
}
```

### 8. μ μ ν•κ² μ—”λ“ν¬μΈνΈμ ν¬κΈ°λ¥Ό λ‚λ μ£Όμ.

APIμ κΈ°λ³Έ μ‚¬μƒμ€ β€μ£Όμ–΄μ§„ ν•λ‚μ μΌμ„ μ μν–‰ν•μβ€™ μ΄λ‹¤. ν•λ²μ— μ—¬λ¬ μ‘μ—…μ„ ν•΄κ²°ν•  μ μλ” κ²ƒ λ³΄λ‹¤, ν• λμ— μ‚¬μ© κ°€λ¥ν• κΈ°λ¥μ„ ν™•μΈν•  μ μλ” μ‘μ€ λ‹¨μ„μ API μ„¤κ³„κ°€ μ¤‘μ”ν•λ‹¤(μ–΄μ°λ³΄λ©΄ booksμ΄λΌλ” μ—”λ“ν¬μΈνΈλ” μ–΄λ–»κ²λ³΄λ©΄ κµ‰μ¥ν ν° λ‹¨μ„μΌ μ μλ‹¤). κ·Έλ¦¬κ³  μ΄λ¬ν• μ‘μ€ λ‹¨μ„μ APIλ¥Ό μ μ ν•κ² ν†µν•©ν•μ—¬ ν΄λΌμ΄μ–ΈνΈκ°€ μ‰½κ² κΈ°λ¥μ„ μμΈ΅ν•κ³  μ΄ν•΄ν•  μ μλ„λ΅ λ•λ” κ²ƒμ΄ μΆ‹λ‹¤.

### 9. μ •ν™•ν• API λ¬Έμ„λ¥Ό μ κ³µν•μ.

APIμ κ¶κ·Ήμ μΈ λ©μ μ€ β€ν΄λΌμ΄μ–ΈνΈκ°€ μ›ν•λ” κΈ°λ¥μ„ ν•λμ— μ•μ•„λ³΄κ³  μ μ ν•κ² ν”„λ΅κ·Έλ¨ μƒμ— λ°°μΉν•΄μ„ κΈ°λ¥μ„ μν–‰ν•  μ μλ„λ΅ ν•λ” κ²ƒβ€™μ΄λ‹¤. μ΄λ¥Ό μ„ν•΄μ„λ” APIμ— λ€ν•΄ μ μ •λ¦¬λ λ¬Έμ„κ°€ μ¤‘μ”ν•λ‹¤.

λ¬Έμ„μ—λ” κ° μ—”λ“ν¬μΈνΈμ λ©μ κ³Ό μ΄λ¥Ό μ‹¤ν–‰ν•κΈ° μ„ν• κ¶ν•, νΈμ¶ν•μ€μ„ λ•μ μ‘λ‹µ μμ‹, κ·Έλ¦¬κ³  μ‹¤ν¨ν•μ€μ„ λ•μ μ¤λ¥ λ©”μ‹μ§€κ°€ κΌ­ λ…μ‹λμ–΄μ•Ό ν•λ‹¤. κ·Έλ¦¬κ³  APIμ λ²„μ „μ΄ λ³€κ²½λ¨μ— λ”°λΌ λ‚΄λ¶€ κΈ°λ¥μ λ³€ν™” κ³Όμ •μ„ λ¬Έμ„μ— κΌ­ μ‘μ„±ν•΄μ•Ό ν•λ‹¤. κΈ°λ³Έμ μΌλ΅ Swaggerμ™€ κ°™μ΄ APIμ κ°λ°κ³Ό λ¬Έμ„ μ‘μ„±μ„ λ™μ‹μ— ν•΄μ£Όλ” λ„κµ¬κ°€ μλ‹¤. νΉμ€ PostmanμΌλ΅ APIλ¥Ό ν…μ¤νΈν•κ³ , μ΄λ¥Ό λ¬Έμ„ν™” λ νμΌλ΅ μ €μ¥ν•΄μ£Όλ” λ„κµ¬λ„ μ΅΄μ¬ν•λ‹¤.

### 10. λ³΄μ•μ„ μ„ν• κΈ°λ¥μ„ κΌ­ μ μ©ν•μ.

κ°€μ¥ μΌλ°μ μΈ λ°©λ²•μΌλ΅ SSLμ„ μ„λ²„μ— μ μ©ν•λ©΄, ν΄λΌμ΄μ–ΈνΈ-μ„λ²„ κ°„ μ•μ „ν• ν†µμ‹ μ„ λ³΄μ¥ν•λ©΄μ„ μ μ¬μ μΌλ΅ λ°μƒ κ°€λ¥ν• κ³µκ²©μ„ λ§‰μ„ μ μλ‹¤.

μ›Ή μƒμ—μ„λ” Originμ΄λΌλ” κ°λ…μ΄ μ΅΄μ¬ν•λ”λ°, μ΄λ” URL μƒμ—μ„ ν”„λ΅ν† μ½, λ„λ©”μΈ, ν¬νΈ λ²νΈλ¥Ό ν•©μΉ λ¶€λ¶„μ„ λ§ν•λ‹¤. μ ‘μ†μ¤‘μΈ μ›Ήμ‚¬μ΄νΈμ Originμ€ window.location.origin λ…λ Ήμ–΄λ¥Ό ν†µν•΄ ν™•μΈν•  μ μλ‹¤.

μ›Ή λΈλΌμ°μ €λ” λ³΄μ• λ•λ¬Έμ— κ°™μ€ OriginλΌλ¦¬ ν†µμ‹ ν•  μ μλ„λ΅ ν•λ” SOP(Same Origin Policy)μ™€ λ‹¤λ¥Έ OriginμΌλ΅λ„ μ”μ²­μ„ λ³΄λ‚Ό μ μλ„λ΅ μμ™Έλ¥Ό ν—μ©ν•λ” CORS(Cross Origin Resource Sharing) μ •μ±…μ΄ μ΅΄μ¬ν•λ‹¤. APIμ νΉμ„± μƒ μ„λ΅ λ‹¤λ¥Έ Origin κ°„ ν†µμ‹ μ€ λ‹Ήμ—°ν λ°μƒν•κΈ° λ•λ¬Έμ—, CORSλ¥Ό μ΄μ©ν•μ—¬ μ μ ν•κ² HTTP ν†µμ‹ μ„ μ ν•ν•  μ μλ” κΈ°λ¥μ„ μ§€μ›ν•΄μ•Ό ν•λ‹¤.

CORS ν”„λ΅ν† μ½μ€ λΈλΌμ°μ €κ°€ μ‚¬μ „ μ”μ²­(preflight request)μ„ μ„λ²„μ— λ³΄λ‚΄κ³ , μ΄λ¥Ό μΉμΈ λ°›μ€ κ²½μ°μ—λ§ ν†µμ‹ ν•  μ μλ„λ΅ ν•λ‹¤. μ΄ μ‚¬μ „ μ”μ²­μ€ HTTP μ”μ²­ μ¤‘ OPTION λ©”μ†λ“λ¥Ό μ‚¬μ©ν•λ”λ°, μ΄λ¥Ό μ„ν•΄μ„λ” μ•„λμ μ‚¬ν•­μ„ μ„ νƒμ μΌλ΅ μ‘λ‹µ ν—¤λ”μ— λ„£μ–΄μ•Ό ν•λ‹¤.


> π’΅ **μ‘λ‹µν—¤λ”**
>  - Access-Control-Allow-Origin: *
>  - Access-Control-Allow-Methods: GET, POST, PUT, PATCH, DELETE
>  - Access-Control-Allow-Headers: Content-Type, Authorization


### 11. API λ²„μ „μ„ λ…μ‹ν•μ.

κ°λ° κ³Όμ •μ΄ λμ—λ“  μ΄μ μ¤‘μ— API μ—”λ“ν¬μΈνΈλ¥Ό λ³€κ²½ν•κ±°λ‚ λ‚΄λ¶€ κµ¬μ΅°λ¥Ό λ³€κ²½ν•μ€λ“ , APIμ™€ κ΄€λ ¨λ μ–΄λκ²ƒμ΄λΌλ„ λ³€κ²½μ΄ λ°μƒν•μ€λ‹¤λ©΄ μ΄λ¥Ό λ²„μ „ν™”ν•΄μ•Ό ν•λ‹¤. ν΄λΌμ΄μ–ΈνΈκ°€ λ¨λ¥΄λ” μƒνƒλ΅ κ°‘μκΈ° APIμ μ—”λ“ν¬μΈνΈλ¥Ό λ³€κ²½ν•΄μ„λ” μ•λλ‹¤. APIλ” μ–΄λ– ν• λ³€κ²½μ΄ λ°μƒν•λ”λΌλ„, μ΄μ „μ ν†µμ‹  μƒνƒμ—κΉμ§€ μν–¥μ„ μ£Όμ–΄μ„λ” μ•λλ‹¤. μ¦‰, κΈ°μ΅΄μ λ°©λ²•λ€λ΅ ν†µμ‹ ν•λ” μ–΄ν”λ¦¬μΌ€μ΄μ…μ΄ ν•λ‚λΌλ„ μ΅΄μ¬ν•λ‹¤λ©΄, ν•΄λ‹Ή κΈ°λ¥μ„ μ„μλ€λ΅ μ •μ§€ν•΄μ„λ” μ•λλ‹¤.


> 1. ν—¤λ”μ— μ¶”κ°€: "x-version=v2"
> 2. νλΌλ―Έν„°μ— μ¶”κ°€: "?apiVersion=2"
> 3. URLμ— ν¬ν•¨:  "/v2/books/:id"


### 12. μΊμ‹ λ°μ΄ν„°λ¥Ό μ‚¬μ©ν•΄μ„ μ„±λ¥μ„ ν–¥μƒμ‹ν‚¤μ.

λΉλ²ν•κ² μ‚¬μ©λλ©΄μ„ λ™μ‹μ— λ³€κ²½μ΄ κ±°μ λ°μƒν•μ§€ μ•λ” λ°μ΄ν„°λ” μΊμ‹±ν•λ” κ²ƒμ΄ μΆ‹λ‹¤. μΈλ©”λ¨λ¦¬(in-memory) λλ” μΊμ‹ λ°μ΄ν„°λ² μ΄μ¤(cached-database)λ¥Ό μ΄μ©ν•λ” κ²ƒμ΄ λ©”μΈ λ°μ΄ν„°λ² μ΄μ¤λ¥Ό μ ‘κ·Όν•λ” κ²ƒλ³΄λ‹¤ ν›¨μ”¬ μΆ‹μ€ μ„±λ¥μ„ λ³΄μΈλ‹¤.

λ‹¤λ§ μΊμ‹±λ λ°μ΄ν„°μ κ²½μ° λ§λ£κΈ°κ°„μ΄ μ΅΄μ¬ν•  μ μκΈ° λ•λ¬Έμ—, μ μ ν• μ‹κΈ°μ— μ΄λ¥Ό μ—…λ°μ΄νΈ ν•  μ μλ„λ΅ κµ¬ν„ν•λ” κ²ƒμ΄ μ¤‘μ”ν•λ‹¤. μΊμ‹λ λ°μ΄ν„°λ¥Ό μ‚¬μ©ν•  λ•μ—λ” λ°λ“μ‹ HTTP ν—¤λ”μ— Cache-Controlλ¥Ό ν¬ν•¨ν•΄μ•Ό ν•λ‹¤.

### 13. ν‘μ¤€ UTCλ¥Ό μ‚¬μ©ν•μ.

APIλ” μ‹κ°„ λλ” κ³µκ°„μ— μƒκ΄€μ—†μ΄ μ–΄λ””μ—μ„λ‚ νΈμ¶λ  μ μλ‹¤. κ·Έλ ‡κΈ° λ•λ¬Έμ— λ™μΌν• λ‚ μ§ ν‘μ¤€ λ°©μ‹μ„ ν†µν•΄ μΌκ΄€μ„± μλ” μ¶λ ¥μ„ λ³΄μ—¬μ¤„ ν•„μ”κ°€ μλ‹¤. ISO8601μ€ λ‚ μ§/μ‹κ°„ λ°μ΄ν„°μ κµ­μ  ν‘μ¤€ λ°©μ‹μΌλ΅, λ‚ μ§λ” Z λλ” UTC ν•μ‹μ΄μ–΄μ•Ό ν•λ‹¤.

```json
{
    "createdAt": "2022-03-08T19:15:08Z"
}
```

### 14. μ£ΌκΈ°μ μΈ ν—¬μ¤μ²΄ν¬λ¥Ό ν•΄μ£Όμ.

APIμ— λ¬Έμ κ°€ μƒκ²¨μ„ μ‹μ¤ν…μ„ μ •μ§€ν•΄μ•Ό ν•  κ²½μ°, ν•΄λ‹Ή APIλ” μ–΄μ©” μ μ—†μ΄ λ³µκµ¬κ°€ λ  λ•κΉμ§€λ” μ‚¬μ©μ΄ λ¶κ°€λ¥ν•λ‹¤. μ΄λ¥Ό μ„ν•΄ API νΈμ¶ μ‹μ μ— ν•΄λ‹Ή APIκ°€ μ •μƒμ μΌλ΅ μ‚¬μ© κ°€λ¥ν•μ§€ ν™•μΈν•  μ μλ” ν—¬μ¤μ²΄ν¬(Health-check) μ‹μ¤ν…μ΄ μ—”λ“ν¬μΈνΈ μƒμ— μ μ©λμ–΄μ•Ό ν•λ‹¤.

`GET /health`

μΌλ°μ μΌλ΅ μ΄λ¬ν• ν—¬μ¤μ²΄ν¬ κΈ°λ¥μ€ λ΅λ“λ°Έλ°μ„ λ“±μ—μ„ νΈμ¶λ  μ μμΌλ©°, APIμ λ™μ‘ μ—¬λ¶€ λΏλ§ μ•„λ‹λΌ μ μ§€ λ³΄μ κΈ°κ°„μ— λ€ν• κ°λµμ μΈ κΈ°μ¤€μ„ μ μ‹ν•  μλ„ μλ‹¤.

### 15. API Key μΈμ¦μ„ ν—μ©ν•μ.

API Keyλ΅ μΈμ¦ν•κ² λλ©΄, 3rd party μ–΄ν”λ¦¬μΌ€μ΄μ…μ—μ„ ν•΄λ‹Ή APIλ¥Ό μ†μ‰½κ² μ‚¬μ©ν•λ„λ΅ λ§λ“¤ μ μλ‹¤. μ΄λ¥Ό μ„ν•΄μ„λ” X-Api-Key λλ” Api-Keyμ™€ κ°™μ€ μ»¤μ¤ν…€ HTTP ν—¤λ”λ¥Ό μ‚¬μ©ν•΄μ•Ό ν•λ‹¤. νΉν Keyμ μ‚¬μ© κΈ°ν•μ„ μ •ν•΄μ„ λ§λ£μΌμ΄ μλ„λ΅ ν•΄μ•Ό λ³΄μ•μƒ λ¬Έμ κ°€ λ°μƒν•μ€μ„ κ²½μ° μ΄λ¥Ό λ¬΄ν¨ν™”ν•  μ μλ‹¤λ” κ²ƒμ„ μ—Όλ‘ν•μ.


> π’΅ μ°Έκ³  λ¬Έν—
> - https://medium.com/@liams_o/15-fundamental-tips-on-rest-api-design-9a05bcd42920
> - https://restfulapi.net/rest-api-design-tutorial-with-example/
> - https://wnjoon.github.io/2022/11/08/swe-restapi_design/

