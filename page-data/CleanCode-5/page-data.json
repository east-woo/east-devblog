{"componentChunkName":"component---src-templates-post-jsx","path":"/CleanCode-5/","result":{"data":{"site":{"siteMetadata":{"title":"east-woo"}},"markdownRemark":{"id":"cdf67bfa-eb4b-5d41-98f4-02a410c11737","excerpt":"Chapter 06. 객체와 자료구조\npage 117 ~ 128 자료구조 vs 객체 자료구조 객체 데이터 그 자체 비즈니스 로직과 관련 자료를 공개한다. 자료를 숨기고,  추상화한다.자료를 다루는 함수만 공개한다. 변수 사이에 조회 함수와 설정 함수로 변수를 다룬다고 객체가 되지 않는다(getter, setter) 추상 인터페이스를 제공해 사용자가 구현을…","html":"<p><strong>Chapter 06. 객체와 자료구조</strong><br>\n<strong>page 117 ~ 128</strong></p>\n<h2>자료구조 vs 객체</h2>\n<table>\n<thead>\n<tr>\n<th>자료구조</th>\n<th>객체</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>데이터 그 자체</td>\n<td>비즈니스 로직과 관련</td>\n</tr>\n<tr>\n<td>자료를 공개한다.</td>\n<td>자료를 숨기고, <br> 추상화한다.자료를 다루는 함수만 공개한다.</td>\n</tr>\n<tr>\n<td>변수 사이에 조회 함수와 설정 함수로 변수를 다룬다고 객체가 되지 않는다(getter, setter)</td>\n<td>추상 인터페이스를 제공해 사용자가 구현을 모른 채 자료의 핵심을 조작할 수 있다.</td>\n</tr>\n</tbody>\n</table>\n<h3>예시(1) Vehicle</h3>\n<h4>자료구조</h4>\n<ul>\n<li>\n<p>단순히 getter, setter가 있다고 객체가 되지 않는다. (위에 내용 있음)</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token keyword\">public</span> <span class=\"token keyword\">interface</span> <span class=\"token class-name\">Vehicle</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">double</span> <span class=\"token function\">getfuelTankCapacityInGallons</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 연료탱트 용량(갤런 단위)</span>\n    <span class=\"token keyword\">double</span> <span class=\"token function\">getGallonsOfGasoline</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 가솔린 (갤런 단위)</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">Car</span> <span class=\"token keyword\">implements</span> <span class=\"token class-name\">Vehicle</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">double</span> fuelTankCapacityInGallons<span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">double</span> gallonsOfGasoline<span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">double</span> <span class=\"token function\">getFuealTankCapacityInGallons</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">return</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>fualTankCapacityInGallons<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">double</span> <span class=\"token function\">getGallonsOfGasoline</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">return</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>gallonsOfGasoline<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n</li>\n</ul>\n<h4>객체</h4>\n<ul>\n<li>\n<p>자신이 가진 값을 그대로 주는 것이 아닌, 연료를 퍼센트로 변환하는 로직이 들어있다.</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token keyword\">public</span> <span class=\"token keyword\">interface</span> <span class=\"token class-name\">Vehicle</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">double</span> <span class=\"token function\">getPercentFuelRemain</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">Car</span> <span class=\"token keyword\">implements</span> <span class=\"token class-name\">Vehicle</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">double</span> fuelTankCapacityInGallons<span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">double</span> gallonsOfGasoline<span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">public</span> <span class=\"token class-name\">Car</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">double</span> fuelTankCapacityInGallons<span class=\"token punctuation\">,</span> <span class=\"token keyword\">double</span> gallonsOfGasoline<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>fuelTankcapacityInGalons <span class=\"token operator\">&lt;=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n              <span class=\"token keyword\">throw</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">IllegalArgumentException</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"fuelTankCapacityInGallons은 0보다 커야한다.\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n              <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>fuelTankCapacityInGallons <span class=\"token operator\">=</span> fuelTankCapacityInGallons<span class=\"token punctuation\">;</span>\n              <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>gallonsOfGasoline <span class=\"token operator\">=</span> gallonsOfGasoline<span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span>\n    \n        <span class=\"token keyword\">public</span> <span class=\"token keyword\">double</span> <span class=\"token function\">getPercentFuelRemain</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n             <span class=\"token keyword\">return</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>gallonsOfGasoline <span class=\"token operator\">/</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>fuelTankCapacityInGallons <span class=\"token operator\">*</span> <span class=\"token number\">100</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n</li>\n<li>getPercentFuelRemain( ) : 자신이 가진 값을 바로 주는 것이 아니라 나름대로 값을 다뤄서 넘겨주게된다<br></li>\n<li>Car() : 어떤 숫자를 0으로 나오면 무한대이기 때문에 error가 발생할 수 있다. Car의 인스턴스를 만들 때 이를 다룰 수 있는 예외를 설정해둔다.<br>\n<strong>=> 어떤 메소드를 구현할 때 수학적 오류는 없는지, 버그 발생 가능성은 없는지 확인하고 적절한 제어를 해주어야 한다.</strong><br></li>\n</ul>\n<p>🤚 휴대폰 배터리처럼 실제 수치는 중요하지 않고, 퍼센트만 중요하다면?<br>\n-> data로 어떤 비즈니스로직을 다루어 필요한 값만 넘기는 방식인 '객체' 로 사용하는 것이 더 적절하다.<br></p>\n<h3>예시(2) Shape</h3>\n<h4>자료구조</h4>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">Square</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">public</span> <span class=\"token class-name\">Point</span> topLeft<span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">public</span> <span class=\"token keyword\">double</span> side<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">Rectangle</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">public</span> <span class=\"token class-name\">Point</span> topLeft<span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">public</span> <span class=\"token keyword\">double</span> height<span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">public</span> <span class=\"token keyword\">double</span> width<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">Circle</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">public</span> <span class=\"token class-name\">Point</span> center<span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">public</span> <span class=\"token keyword\">double</span> radius<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">Geometry</span> <span class=\"token punctuation\">{</span> <span class=\"token comment\">// * geometry : 기하학 </span>\n        <span class=\"token keyword\">public</span> <span class=\"token keyword\">final</span> <span class=\"token keyword\">double</span> <span class=\"token constant\">PI</span> <span class=\"token operator\">=</span> <span class=\"token number\">3.141592653589793</span><span class=\"token punctuation\">;</span>\n \n        <span class=\"token keyword\">public</span> <span class=\"token keyword\">double</span> <span class=\"token function\">area</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Object</span> shape<span class=\"token punctuation\">)</span> <span class=\"token keyword\">throws</span> <span class=\"token class-name\">NoSuchShapeException</span> <span class=\"token punctuation\">{</span>\n               <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>shape <span class=\"token keyword\">instanceof</span> <span class=\"token class-name\">Square</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n                   <span class=\"token class-name\">Square</span> s <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">Square</span><span class=\"token punctuation\">)</span> shape<span class=\"token punctuation\">;</span>\n                   <span class=\"token keyword\">return</span> s<span class=\"token punctuation\">.</span>side <span class=\"token operator\">*</span> s<span class=\"token punctuation\">.</span>side<span class=\"token punctuation\">;</span>\n               <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>shape <span class=\"token keyword\">instanceof</span> <span class=\"token class-name\">Rectangle</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                   <span class=\"token class-name\">Rectangle</span> r <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">Rectangle</span><span class=\"token punctuation\">)</span> shape<span class=\"token punctuation\">;</span>\n                   <span class=\"token keyword\">return</span> r<span class=\"token punctuation\">.</span>height <span class=\"token operator\">*</span> r<span class=\"token punctuation\">.</span>width<span class=\"token punctuation\">;</span>\n               <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>shape <span class=\"token keyword\">instanceof</span> <span class=\"token class-name\">Circle</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                   <span class=\"token class-name\">Circle</span> c <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">Circle</span><span class=\"token punctuation\">)</span> shape<span class=\"token punctuation\">;</span>\n                   <span class=\"token keyword\">return</span> <span class=\"token constant\">PI</span> <span class=\"token operator\">*</span> c<span class=\"token punctuation\">.</span>radius <span class=\"token operator\">*</span> c<span class=\"token punctuation\">.</span>radius<span class=\"token punctuation\">;</span>\n               <span class=\"token punctuation\">}</span>\n               <span class=\"token keyword\">throw</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">NoSuchShapeException</span><span class=\"token punctuation\">(</span> <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>👌 절차적인 코드는 새로운 자료 구조를 추가하기 어렵다. 함수를 고쳐야 한다.<br>\n-> else if ~~ 를 추가하며 함수를 고쳐야 한다.<br></p>\n<h4>객체</h4>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">Square</span> <span class=\"token keyword\">implements</span> <span class=\"token class-name\">Shape</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">private</span> <span class=\"token class-name\">Point</span> topLeft<span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">private</span> <span class=\"token keyword\">double</span> side<span class=\"token punctuation\">;</span>\n        \n        <span class=\"token keyword\">public</span> <span class=\"token keyword\">double</span> <span class=\"token function\">area</span><span class=\"token punctuation\">(</span> <span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n           <span class=\"token keyword\">return</span> side <span class=\"token operator\">*</span> side<span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">Rectangle</span> <span class=\"token keyword\">implements</span> <span class=\"token class-name\">Shape</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">private</span> <span class=\"token class-name\">Point</span> topLeft<span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">private</span> <span class=\"token keyword\">double</span> height<span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">private</span> <span class=\"token keyword\">double</span> width<span class=\"token punctuation\">;</span>\n\n       <span class=\"token keyword\">public</span> <span class=\"token keyword\">double</span> <span class=\"token function\">area</span><span class=\"token punctuation\">(</span> <span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n         <span class=\"token keyword\">return</span> height <span class=\"token operator\">*</span> width<span class=\"token punctuation\">;</span>\n       <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">Circle</span> <span class=\"token keyword\">implements</span> <span class=\"token class-name\">Shape</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">private</span> <span class=\"token class-name\">Point</span> center<span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">private</span> <span class=\"token keyword\">double</span> radius<span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">private</span> <span class=\"token keyword\">final</span> <span class=\"token keyword\">double</span> <span class=\"token constant\">PI</span> <span class=\"token operator\">=</span> <span class=\"token number\">3.141592653589793</span><span class=\"token punctuation\">;</span>\n\n       <span class=\"token keyword\">public</span> <span class=\"token keyword\">double</span> <span class=\"token function\">area</span><span class=\"token punctuation\">(</span> <span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n         <span class=\"token keyword\">return</span> <span class=\"token constant\">PI</span> <span class=\"token operator\">*</span> radius <span class=\"token operator\">*</span> radius<span class=\"token punctuation\">;</span>\n       <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>👌 객체지향 코드는 새로운 클래스를 추가하기 쉽다. 하지만 함수를 추가해야한다. <br>\n-> area() 라는 공통함수가 있다.<br></p>\n<h4>객체지향 vs 절차지향 : 상황에 맞는 선택을 하면 된다.<br></h4>\n<p>• 자료구조를 사용하는 <strong>절차적인 코드</strong>는 기본 자료 구조를 변경하지 않으면서 새 함수를 추가하기 쉽다.<br>\n• <strong>절차적인 코드</strong>는 새로운 자료 구조를 추가하기 어렵다. 그러려면 모든 함수를 고쳐야 한다.<br></p>\n<p>• <strong>객체지향 코드</strong>는 기존 함수를 변경하지 않으면서 새 클래스를 추가하기 쉽다.<br>\n• <strong>객체 지향 코드</strong>는 새로운 함수를 추가하기 어렵다. 그러려면 모든 클래스를 고쳐야 한다.<br></p>\n<h2>객체 - 디미터 법칙</h2>\n<p><figure class='gatsby-resp-image-figure' style='margin-bottom: 16px;'>\n    <span class='gatsby-resp-image-wrapper' style='position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 663px; '>\n      <a class='gatsby-resp-image-link' href='/static/4a1b7dfdbd0f4e4bc069161eb95d310f/5c8e6/img_1.png' style='display: block' target='_blank' rel='noopener'>\n    <span class='gatsby-resp-image-background-image' style=\"padding-bottom: 55.294117647058826%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsTAAALEwEAmpwYAAABRElEQVQoz3VTa2+DMAzk//+2rasqVgbiC9KgPFve79bLeTNLWGfJauI6l/NdsEjF4/HYUvaIrutoGAajtq4r9X1PElKXsPYFAb7f7+T7PnmeZ9QulwudTie6Xq9G/wYoRTQj9YjjmMIwNGppmtL5fDaYPwXM85xvxZgYqaoqSpKEsizjPQDquua+siz/H1mKAAAgDo/jyL+3241BANa2La+LoqCmaXgaXXsBtmQzzzMLDpAkiXk06FUoRroJWO9Z6Ww3UwCIW6Pwk47HN6XTO49WqguEEZiif5pGngJnpmmiUaXob+l08Sc0RO5DLvw2JqHD4YVfgeM4av26mWftnVqWhUcNgoCiKGRTkINitIGrnkqxb7sfXZUs8MB4h78PdyHXc8m2bXLdD34i2EPfZ67+0fDZlwKWSIwJ3SCFDrZ3Vz/7BQp2WK02OIYUAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"></span>\n  <img class='gatsby-resp-image-image' alt='디미터 법칙' title='디미터 법칙' src='/static/4a1b7dfdbd0f4e4bc069161eb95d310f/5c8e6/img_1.png' srcset='/static/4a1b7dfdbd0f4e4bc069161eb95d310f/e7570/img_1.png 170w,\n/static/4a1b7dfdbd0f4e4bc069161eb95d310f/f46e7/img_1.png 340w,\n/static/4a1b7dfdbd0f4e4bc069161eb95d310f/5c8e6/img_1.png 663w' sizes='(max-width: 663px) 100vw, 663px' style='width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;' loading='lazy' decoding='async'>\n  </a>\n    </span>\n    <figcaption class='gatsby-resp-image-figcaption'>디미터 법칙</figcaption>\n  </figure></p>\n<h4>클래스 C의 메서드 f는 다음과 같은 객체의 메서드만 호출해야 한다<br></h4>\n<p>• 클래스 C<br>\n• 자신이 생성한 객체<br>\n• 자신의 인수로 넘어온 객체<br>\n• C 인스턴스 변수에 저장된 객체<br></p>\n<h4>휴리스틱 : 경험에 기반하여 문제를 해결하기 위해 발견한 방법. 의사 결정을 단순화하기 위한 법칙들</h4>\n<h3>기차 충돌</h3>\n<h4>디미터의 법칙에 어긋나는 상황</h4>\n<p>연쇄 작용으로 인한 충돌</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token comment\">// 객체 - 기차 충돌. 디미터의 법칙 위배 : 내가 가진 것이 가진 것을 가져오는 연쇄 작용(depth가 깊게 들어감)</span>\n<span class=\"token keyword\">final</span> <span class=\"token class-name\">String</span> outputDir <span class=\"token operator\">=</span> ctxt<span class=\"token punctuation\">.</span><span class=\"token function\">getOptions</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">getScratchDir</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">getAbsolutePath</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// 자료구조 - OK</span>\n<span class=\"token keyword\">final</span> <span class=\"token class-name\">String</span> outputDir <span class=\"token operator\">=</span> ctxt<span class=\"token punctuation\">.</span><span class=\"token function\">options</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">scratchDir</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>absolutePath<span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// 객체에 대한 해결책이 아니다. getter를 통했을 뿐, 값을 가져오는 것은 자료구조처럼 구현한 것이다.</span>\nctxt<span class=\"token punctuation\">.</span><span class=\"token function\">getAbsolutePathOfScratchDirectoryOption</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nctxt<span class=\"token punctuation\">.</span><span class=\"token function\">getOptions</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">getScratchDir</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">getAbsolutePath</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// 왜 절대 경로를 가져올까.. 근본 원인을 생각해보자! 파일을 생성하기위해!</span>\n<span class=\"token comment\">// 객체는 자료를 숨기고 자료를 다루는 함수만 공개한다. </span>\n<span class=\"token class-name\">BufferedOutputStream</span> bos <span class=\"token operator\">=</span> ctxt<span class=\"token punctuation\">.</span><span class=\"token function\">createScratchFileStreamFileStream</span><span class=\"token punctuation\">(</span>classFileName<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 해당 코드는 객체로서 옳은 방법</span>\n<span class=\"token operator\">-></span> 인자<span class=\"token punctuation\">(</span>classFileName<span class=\"token punctuation\">)</span>만 넘기고 내부적인 코드들은 안에서 생성하여 묶어서 처리하는 방식으로 구현해 디미터의 법칙을 지키도록<span class=\"token operator\">!</span></code></pre></div>\n<h2>DTO ; Data Transfer Object = 자료구조 = 데이터를 전달할 때 사용하는 객체</h2>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">AddressDto</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">private</span> <span class=\"token class-name\">String</span> street<span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">private</span> <span class=\"token class-name\">String</span> zip<span class=\"token punctuation\">;</span>\n        \n        <span class=\"token keyword\">public</span> <span class=\"token class-name\">AddressDto</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span> street<span class=\"token punctuation\">,</span> <span class=\"token class-name\">String</span> zip <span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n           <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>street <span class=\"token operator\">=</span> street<span class=\"token punctuation\">;</span>\n           <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>zip <span class=\"token operator\">=</span> zip <span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span> \n\n        <span class=\"token keyword\">public</span> <span class=\"token class-name\">String</span> <span class=\"token function\">getStreet</span><span class=\"token punctuation\">(</span> <span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token keyword\">return</span> street<span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span>\n\n        <span class=\"token keyword\">public</span> <span class=\"token class-name\">String</span> <span class=\"token function\">setStreet</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span> street<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>street <span class=\"token operator\">=</span> street<span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span>\n\n        <span class=\"token keyword\">public</span> <span class=\"token class-name\">String</span> <span class=\"token function\">getZip</span><span class=\"token punctuation\">(</span> <span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token keyword\">return</span> zip<span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span>\n\n        <span class=\"token keyword\">public</span> <span class=\"token class-name\">String</span> <span class=\"token function\">setZip</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span> zip<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>zip<span class=\"token operator\">=</span> zip<span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h4>다른 계층 간 데이터를 교환할 때 사용</h4>\n<p>• 로직 없이 필드만 갖는다.<br>\n• 일반적으로 클래스명이 Dto(or DTO)로 끝난다.<br>\n• getter/setter를 갖기도 한다.<br></p>\n<h4>Beans</h4>\n<p>Java Beans: 데이터 표현이 목적인 자바 객체<br>\n• 멤버 변수는 private 속성이다.<br>\n• getter와 setter를 가진다.<br></p>\n<h2>Active Record</h2>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">Employee</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">ActiveRecord</span><span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">private</span> <span class=\"token class-name\">String</span> name<span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">private</span> <span class=\"token class-name\">String</span> address<span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">.</span> <span class=\"token punctuation\">.</span> <span class=\"token punctuation\">.</span> <span class=\"token punctuation\">.</span> <span class=\"token punctuation\">.</span>\n<span class=\"token punctuation\">}</span>\n        \n  <span class=\"token class-name\">Employee</span> bob <span class=\"token operator\">=</span> <span class=\"token class-name\">Employee</span><span class=\"token punctuation\">.</span><span class=\"token function\">findByName</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Bob Martin\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  bob<span class=\"token punctuation\">.</span><span class=\"token function\">setName</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Robert C. Martin\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  bob<span class=\"token punctuation\">.</span><span class=\"token function\">save</span><span class=\"token punctuation\">(</span> <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h3>Database row를 객체에 맵평하는 패턴</h3>\n<p>: 현업에서의 Repository, Entity와 유사</p>\n<p>• 비즈니스 로직 에서드를 추가해 객체로 취급하는 건 바람직하지 않다.<br>\n• 비즈니스 로직을 담으면서 내부 자료를 숨기는 객체는 따로 생성한다.<br>\n• 하지만.. 객체가 많아지면 복잡하고, 가까운 곳에 관련 로직이 있는 것이 좋으므로 현업에서는 Entity에 간단한 메서드를 추가해 사용한다.<br>\n• 예제에서는 db에 직접 접근해 값을 가져오기도하고 가져온 것을 바탕으로 세팅해주기도한다.<br></p>\n<h3>Active Record vs Data Mapper</h3>\n<p><figure class='gatsby-resp-image-figure' style='margin-bottom: 16px;'>\n    <span class='gatsby-resp-image-wrapper' style='position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 332px; '>\n      <a class='gatsby-resp-image-link' href='/static/6657e8d0e45fe6c65daab32bbd22706e/557e0/img_4.png' style='display: block' target='_blank' rel='noopener'>\n    <span class='gatsby-resp-image-background-image' style=\"padding-bottom: 55.294117647058826%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsTAAALEwEAmpwYAAABWElEQVQoz5VSi6qCQBTs/7/ID6hMLbGozIRSIyq1h6mYr85lDuxyrYh7B5bVfczOzDm95/NJQFmWdL1eqSgKCsOQHMeh7XZLt9uN0jSlOI6pqio+izufBtATH0mSkOu6dDweaT6fk6IoNBgM+B+k2Dufz5LwE7AuCe/3O41GI9I0jWaz2dvhKIo6hE3TsJvH48HuBCQhbFmWRZPJhAzDYEWwDoWwezgcOBKBy+VCvu/z+mq1knsdy/1+nxUiv+l0yg9A7WKxINu2+YG2bVnVbreT1qEeo0OYZRkrM02TL7wCKk+nExPCKggFoA77HcI8z6U9kQn2QCBUwKYAHCF3YLPZ8GNvClFdz/O4XWDxd2avRanrmiPA+f1+L1uqUxRVVdn2cDjk4iyXSw4cANm/2gYWxuMxFwIzBhTrus5RQI0I/k+NjQzX6zUFQSBtoy0wY6CNEMs3hcAPFdxFEJcbtVYAAAAASUVORK5CYII='); background-size: cover; display: block;\"></span>\n  <img class='gatsby-resp-image-image' alt='Active Record' title='Active Record' src='/static/6657e8d0e45fe6c65daab32bbd22706e/557e0/img_4.png' srcset='/static/6657e8d0e45fe6c65daab32bbd22706e/e7570/img_4.png 170w,\n/static/6657e8d0e45fe6c65daab32bbd22706e/557e0/img_4.png 332w' sizes='(max-width: 332px) 100vw, 332px' style='width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;' loading='lazy' decoding='async'>\n  </a>\n    </span>\n    <figcaption class='gatsby-resp-image-figcaption'>Active Record</figcaption>\n  </figure></p>\n<h3>Active Record</h3>\n<p>: insert, update등 한 객체 안에서 사용함 (자바 개발하면서 보기 힘든 패턴) <br>\n• 객체가 row를 담을 뿐 아니라 database에 대한 접근을 포함한다.<br></p>\n<p>• Person의 속성을 담을 뿐 아니라, 생성 수정도 객체 안에서 수행할 수 있다. <br></p>\n<p>• 사례 - Ruby on rails<br></p>\n<p><figure class='gatsby-resp-image-figure' style='margin-bottom: 16px;'>\n    <span class='gatsby-resp-image-wrapper' style='position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 539px; '>\n      <a class='gatsby-resp-image-link' href='/static/fdbda0725b15cb74e1ed53e06aec6c07/4eee8/img_3.png' style='display: block' target='_blank' rel='noopener'>\n    <span class='gatsby-resp-image-background-image' style=\"padding-bottom: 28.82352941176471%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAAAsTAAALEwEAmpwYAAAA6klEQVQY03VR66pEUBj1/o+lSUKJiCS5JGqQu1xm1ml9xY9Ts+rL3ux125TP5wPOvu9omgbbtuE8T1zXBeL7/eIX/n/jXlnXFXEcI4oi2LaN9/v9DEFhrsuyRJqm8lyW5RG7w9x7hYlerxd0XccwDJjnGV3Xoa5rOUCy53nwfR+u6yIMQ+R5Li2I25ztRJAJTdOUdJZloSgKGSYhaOA4zkMgqqoCeQxDc7a4AyhMoGkaVFUV4SAIMI4j2raVA6xjGAaSJJEGfd8L+b7jaZrEgO9FkIQsyyQVq3DNdBS97+g4DklDcw45v37KHzOyyDTW3Q9GAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"></span>\n  <img class='gatsby-resp-image-image' alt='Data Mapper' title='Data Mapper' src='/static/fdbda0725b15cb74e1ed53e06aec6c07/4eee8/img_3.png' srcset='/static/fdbda0725b15cb74e1ed53e06aec6c07/e7570/img_3.png 170w,\n/static/fdbda0725b15cb74e1ed53e06aec6c07/f46e7/img_3.png 340w,\n/static/fdbda0725b15cb74e1ed53e06aec6c07/4eee8/img_3.png 539w' sizes='(max-width: 539px) 100vw, 539px' style='width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;' loading='lazy' decoding='async'>\n  </a>\n    </span>\n    <figcaption class='gatsby-resp-image-figcaption'>Data Mapper</figcaption>\n  </figure></p>\n<h3>Data Mapper</h3>\n<p>• row를 담는 객체와 database에 접근할 수 있는 객체가 분리되어 있다.<br></p>\n<p>• Person은 값만 담고 있고, 생성, 수정 등 액션은 Person Mapper에서 담당한다.<br></p>\n<p>• 사례 - Hibernate<br></p>","frontmatter":{"title":"[클린코드-5] 객체와 자료구조로 데이터 표현하기","date":"June 20, 2024","update":"June 20, 2024","tags":["독서","Clean Code"],"series":"Clean Code"},"fields":{"slug":"/CleanCode-5/","readingTime":{"minutes":9.695}}},"seriesList":{"edges":[{"node":{"id":"b406bb1d-20e8-56cf-aeb9-372b40275c78","fields":{"slug":"/CleanCode-1/"},"frontmatter":{"title":"[클린코드-1] 클린 코드와 그 첫걸음"}}},{"node":{"id":"d34f1573-694e-5d31-9fc0-6abc568f788b","fields":{"slug":"/CleanCode-2/"},"frontmatter":{"title":"[클린코드-2] 함수를 안전하고 간결하게 작성하기"}}},{"node":{"id":"2561081f-3b40-5810-aed4-4688770e362d","fields":{"slug":"/CleanCode-3/"},"frontmatter":{"title":"[클린코드-3] 코드를 보조하는 주석"}}},{"node":{"id":"8bfe4c44-e879-5335-b3be-9acce01ed2f5","fields":{"slug":"/CleanCode-4/"},"frontmatter":{"title":"[클린코드-4] 코드의 가독성에 필수적인 포맷팅"}}},{"node":{"id":"cdf67bfa-eb4b-5d41-98f4-02a410c11737","fields":{"slug":"/CleanCode-5/"},"frontmatter":{"title":"[클린코드-5] 객체와 자료구조로 데이터 표현하기"}}},{"node":{"id":"7725a8eb-56b3-5e37-b8c3-fbb65def1d62","fields":{"slug":"/CleanCode-6/"},"frontmatter":{"title":"[클린코드-6] 우아하게 예외 처리하기"}}},{"node":{"id":"4e262a40-e19d-5830-a48c-e46c38f62ce8","fields":{"slug":"/CleanCode-7/"},"frontmatter":{"title":"[클린코드-7] 모호한 경계를 적당히 구분짓기"}}},{"node":{"id":"be7a0d17-10d6-5dda-b0ad-86b9b87794df","fields":{"slug":"/CleanCode-8/"},"frontmatter":{"title":"[클린코드-8] 깨끗한 테스트 코드"}}},{"node":{"id":"7cffdb26-f508-50f1-ac60-9d891e5a4456","fields":{"slug":"/CleanCode-9/"},"frontmatter":{"title":"[클린코드-9] 클래스 잘 설계하기"}}},{"node":{"id":"6b99e341-03c1-5ef1-b715-2f9e60cb34c9","fields":{"slug":"/CleanCode-10/"},"frontmatter":{"title":"[클린코드-10] 클래스 잘 설계하기"}}},{"node":{"id":"de25428c-8bc8-5e86-8726-6dbcb1b4bf08","fields":{"slug":"/CleanCode-11/"},"frontmatter":{"title":"[클린코드-11] 창발적 설계로 깔끔한 코드 구현하기"}}}]},"previous":{"fields":{"slug":"/CleanCode-4/"},"frontmatter":{"title":"[클린코드-4] 코드의 가독성에 필수적인 포맷팅"}},"next":{"fields":{"slug":"/CleanCode-6/"},"frontmatter":{"title":"[클린코드-6] 우아하게 예외 처리하기"}}},"pageContext":{"id":"cdf67bfa-eb4b-5d41-98f4-02a410c11737","series":"Clean Code","previousPostId":"8bfe4c44-e879-5335-b3be-9acce01ed2f5","nextPostId":"7725a8eb-56b3-5e37-b8c3-fbb65def1d62"}},"staticQueryHashes":[]}