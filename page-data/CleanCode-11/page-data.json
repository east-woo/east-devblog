{"componentChunkName":"component---src-templates-post-jsx","path":"/CleanCode-11/","result":{"data":{"site":{"siteMetadata":{"title":"east-woo"}},"markdownRemark":{"id":"de25428c-8bc8-5e86-8726-6dbcb1b4bf08","excerpt":"Chapter 12. 창발성\npage 215 ~ 224 1. 창발적 설계란 1) 창발성(Emergence) 창발성(創發性)\n명사 남이 모르거나 하지 아니한 것을 처음으로 또는 새롭게 밝혀내거나 이루어 내는 성질. 하위 계층에는 없는 특성이나 행동이 상위 계층(전체 구조)에서 자발적으로 돌연히 출연하는 현상 각각의 개미는 집을 지을 능력이 없지만, 작은 개…","html":"<p><strong>Chapter 12. 창발성</strong><br>\n<strong>page 215 ~ 224</strong></p>\n<h2>1. 창발적 설계란</h2>\n<h3>1) 창발성(Emergence)</h3>\n<blockquote>\n<p><strong>창발성(創發性)</strong><br/>\n<strong>명사</strong> 남이 모르거나 하지 아니한 것을 처음으로 또는 새롭게 밝혀내거나 이루어 내는 성질.</p>\n</blockquote>\n<ul>\n<li>하위 계층에는 없는 특성이나 행동이 상위 계층(전체 구조)에서 자발적으로 돌연히 출연하는 현상</li>\n<li>각각의 개미는 집을 지을 능력이 없지만, 작은 개미들의 상호작용을 통해 집이라는 결과물이 나오는 것처럼</li>\n<li>작은 요소들의 상호작용의 반복이 전체구조에 영향을 미친다.</li>\n</ul>\n<h3>2) 창발적 설계</h3>\n<h4>단순한 4가지를 반복하다보면 전체적으로 깨끗한 코드가 만들어진다.</h4>\n<ol>\n<li>모든 테스트를 실행한다.</li>\n<li>중복을 없앤다.</li>\n<li>프로그래머 의도를 표현한다.</li>\n<li>실용적 관점에서 타협 한다.<br/>\n-켄트 백-</li>\n</ol>\n<hr>\n<h2>2. 모든 테스트를 실행한다</h2>\n<h3>테스트를 작성할수록 설계 품질이 좋아진다.</h3>\n<ul>\n<li>모든 테스트 케이스를 항상 통과하는 시스템은 '<strong>테스트가 가능한 시스템</strong>'이다. 테스트가 불가능한 시스템은 검증도 불가능하고, 절대 출시하면 안된다. </li>\n<li>테스트가 가능한 시스템을 만들려고 애쓰면 설계 품질이 높아진다. 크기가 작고 목적 하나만 수행하는 클래스가 나온다.</li>\n<li>결합도가 높으면 테스트 케이스를 작성하기 어렵기 때문에 결합도를 낮추는 설계를 하게 된다. </li>\n<li>'모든 테스트를 실행한다.'는 규칙을 따르면 시스템은 낮은 결합도와 높은 응집도라는 목표를 저절로 달성할 수 있다.</li>\n</ul>\n<hr>\n<h2>3. 중복을 없앤다</h2>\n<h3>1) 기존의 코드를 최대한 재활용한다.</h3>\n<h4>예제 1. 코드 재활용</h4>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token keyword\">int</span> <span class=\"token function\">size</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>\n<span class=\"token keyword\">boolean</span> <span class=\"token function\">isEmpty</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\">// 각 메서드를 따로 구현하는 방법도 있지만, 중복을 없애기 위해 서로 호출하도록 한다.</span>\n\n<span class=\"token keyword\">boolean</span> <span class=\"token function\">isEmpty</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">size</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">==</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h3>2) 중복을 없앤다</h3>\n<h4>예제 2. 나쁜 예 👎</h4>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">scaleToOneDimension</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">float</span> desiredDimension<span class=\"token punctuation\">,</span> <span class=\"token keyword\">float</span> imageDimension<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">Math</span><span class=\"token punctuation\">.</span><span class=\"token function\">abs</span><span class=\"token punctuation\">(</span>desiredDimension <span class=\"token operator\">-</span> imageDimension<span class=\"token punctuation\">)</span> <span class=\"token operator\">&lt;</span> errorThreshold<span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">return</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">float</span> scalingFactor <span class=\"token operator\">=</span> desiredDimension <span class=\"token operator\">/</span> imageDimension<span class=\"token punctuation\">;</span>\n  scalingFactor <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">float</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Math</span><span class=\"token punctuation\">.</span><span class=\"token function\">floor</span><span class=\"token punctuation\">(</span>scalingFactor <span class=\"token operator\">*</span> <span class=\"token number\">100</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">*</span> <span class=\"token number\">0.01f</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  \n  <span class=\"token class-name\">RenderedOpnewImage</span> <span class=\"token operator\">=</span> <span class=\"token class-name\">ImageUtilities</span><span class=\"token punctuation\">.</span><span class=\"token function\">getScaledImage</span><span class=\"token punctuation\">(</span>image<span class=\"token punctuation\">,</span> scalingFactor<span class=\"token punctuation\">,</span> scalingFactor<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  image<span class=\"token punctuation\">.</span><span class=\"token function\">dispose</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span><span class=\"token function\">gc</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  image <span class=\"token operator\">=</span> newImage<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n \n<span class=\"token keyword\">public</span> <span class=\"token keyword\">synchronized</span> <span class=\"token keyword\">void</span> <span class=\"token function\">rotate</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span> degrees<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token class-name\">RenderedOpnewImage</span> <span class=\"token operator\">=</span> <span class=\"token class-name\">ImageUtilities</span><span class=\"token punctuation\">.</span><span class=\"token function\">getRotatedImage</span><span class=\"token punctuation\">(</span>image<span class=\"token punctuation\">,</span> degrees<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  image<span class=\"token punctuation\">.</span><span class=\"token function\">dispose</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span><span class=\"token function\">gc</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  image <span class=\"token operator\">=</span> newImage<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<ul>\n<li>중복된 코드를 별도의 메소드로 분리한다.</li>\n</ul>\n<h4>예제 3. 좋은 예 👍</h4>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">scaleToOneDimension</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">float</span> desiredDimension<span class=\"token punctuation\">,</span> <span class=\"token keyword\">float</span> imageDimension<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">Math</span><span class=\"token punctuation\">.</span><span class=\"token function\">abs</span><span class=\"token punctuation\">(</span>desiredDimension <span class=\"token operator\">-</span> imageDimension<span class=\"token punctuation\">)</span> <span class=\"token operator\">&lt;</span> errorThreshold<span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">return</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">float</span> scalingFactor <span class=\"token operator\">=</span> desiredDimension <span class=\"token operator\">/</span> imageDimension<span class=\"token punctuation\">;</span>\n  scalingFactor <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">float</span><span class=\"token punctuation\">)</span> <span class=\"token class-name\">Math</span><span class=\"token punctuation\">.</span><span class=\"token function\">floor</span><span class=\"token punctuation\">(</span>scalingFactor <span class=\"token operator\">*</span> <span class=\"token number\">10</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">*</span> <span class=\"token number\">0.01f</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token function\">replaceImage</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">ImageUtilities</span><span class=\"token punctuation\">.</span><span class=\"token function\">getScaledImage</span><span class=\"token punctuation\">(</span>image<span class=\"token punctuation\">,</span> scalingFactor<span class=\"token punctuation\">,</span> scalingFactor<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n \n<span class=\"token keyword\">public</span> <span class=\"token keyword\">synchronized</span> <span class=\"token keyword\">void</span> <span class=\"token function\">rotate</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span> degrees<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">replaceImage</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">ImageUtilities</span><span class=\"token punctuation\">.</span><span class=\"token function\">getRotatedImage</span><span class=\"token punctuation\">(</span>image<span class=\"token punctuation\">,</span> degrees<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n \n<span class=\"token keyword\">private</span> <span class=\"token keyword\">void</span> <span class=\"token function\">replaceImage</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">RenderedOpnewImage</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  image<span class=\"token punctuation\">.</span><span class=\"token function\">dispose</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span><span class=\"token function\">gc</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  image <span class=\"token operator\">=</span> newImage<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<ul>\n<li>scaleToOneDimension, rotate replaceImage의 목적이 달라졌다.</li>\n<li>별도의 클래스로 분리하면 추후 재활용성이 높아진다.</li>\n</ul>\n<h3>Template Method 패턴</h3>\n<ul>\n<li>알고리즘의 구조를 상위 클래스의 메소드에서 정의하고, 하위 클래스에서 자신에 맞게 세부 알고리즘을 정의한다.\n<span class='gatsby-resp-image-wrapper' style='position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 551px; margin-bottom: 16px;'>\n      <a class='gatsby-resp-image-link' href='/static/74336a780ba1d10d9097d8107e0118de/d1cfa/img.png' style='display: block' target='_blank' rel='noopener'>\n    <span class='gatsby-resp-image-background-image' style=\"padding-bottom: 86.47058823529412%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAARCAYAAADdRIy+AAAACXBIWXMAAAsTAAALEwEAmpwYAAACYUlEQVQ4y4VUy4oTQRTN/wni0oW4EfEHRgXR1ax0KYjoD8wMuJFhBMURYUANhiHpxLwT8pgk03l00ulO0ulHjn1uUk2mE7GgqOq6dc89de+5ncBmrFYrWT3Pw2w2g2EYyOVymE6nsG0bQRBg31B+aiTiBtd1BWQ+n8OyLAEfj8cCOBwO0W630el00O/3xaZ8lf8OIB3L5TLS6TQajQYcxxFHBmo2mygUCmKvVqvo9Xo3ADn3ApZKJSSTSQHkIKjv+ztP3Wb2X4bMn67rArZcLiPAeM7iQRLxCASsVCrCknkkGJ+8zbDVaom9Xq/LysCqaIl4UrkyX2TGHCmG23fy+TxSqZS8ggWaTCZyTwC3gchosVhEk9XmRXXOld9kw6A8I3NK7UYOeYHOpmmKgXtOntOJsqETJ/dkzEGw7ZxGVSZQNpuVyX2xWEQmk8FgMJBna5omeSKYkpMKwKA7OiSb0WgkHcF8UMDc85yglrVmzztmaKfglZT2yoaOrbADTHMql9thFQ1jJNXtdrvoXuuSv2azAS33R4Kqysf1GBZlXe6l1cbSvtpEc2GPf2Ml+fVDeTTEOQidzGYJge9hFRN41Mvq4+zTZ3z/dr7ujFYN+vNHIfXw+eYMB69OoI/Xffvu7RvUyoVIs/HGiADPv57g8vJC9kYI+PHBHXgTHZYT4PazD5jYLty5jaePD6SnFeDO38bfRDn98hMXv7R1J1SKeHH/FtylA8cLcPfwFCEe7E4NTx7ew/XQ+GcbJhRtTfsRyiUt+0H3CkevX8IL9eb5Kxy+P8NobIrt6PhYumNf/jj+Ag4nEVeTLtLxAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"></span>\n  <img class='gatsby-resp-image-image' alt='img' title='img' src='/static/74336a780ba1d10d9097d8107e0118de/d1cfa/img.png' srcset='/static/74336a780ba1d10d9097d8107e0118de/e7570/img.png 170w,\n/static/74336a780ba1d10d9097d8107e0118de/f46e7/img.png 340w,\n/static/74336a780ba1d10d9097d8107e0118de/d1cfa/img.png 551w' sizes='(max-width: 551px) 100vw, 551px' style='width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;' loading='lazy' decoding='async'>\n  </a>\n    </span>\nDailyRoutine - 알고리즘 <br/>\ngetUp 등 메서드 - 알고리즘의 각 단계</li>\n<li>구현하려는 알고리즘에 일정한 단계가 있고, 세부 단계마다 조금씩 구현 내용이 다를 때 사용한다.</li>\n<li>알고리즘의 여러 단계를 각 메서드로 선언하고, 그 알고리즘을 수행할 템플릿 메서드를 만든다.</li>\n<li>하위 클래스에서는 나눠진 메서드(단계)를 구현한다.</li>\n</ul>\n<h4>예제 4. 나쁜 예 👎</h4>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">VacationPolicy</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">accrueUSDDivisionVacation</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">// 지금까지 근무한 시간을 바탕으로 휴가 일수를 계산하는 코드</span>\n    <span class=\"token comment\">// ...</span>\n    <span class=\"token comment\">// 휴가 일수가 미국 최소 법정 일수를 만족하는지 확인하는 코드</span>\n    <span class=\"token comment\">// ...</span>\n    <span class=\"token comment\">// 휴가 일수를 급여 대장에 적용하는 코드</span>\n    <span class=\"token comment\">// ...</span>\n  <span class=\"token punctuation\">}</span>\n  \n  <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">accrueEUDivisionVacation</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">// 지금까지 근무한 시간을 바탕으로 휴가 일수를 계산하는 코드</span>\n    <span class=\"token comment\">// ...</span>\n    <span class=\"token comment\">// 휴가 일수가 유럽연합 최소 법정 일수를 만족하는지 확인하는 코드</span>\n    <span class=\"token comment\">// ...</span>\n    <span class=\"token comment\">// 휴가 일수를 급여 대장에 적용하는 코드</span>\n    <span class=\"token comment\">// ...</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<ul>\n<li>최소 법정 일수를 계산하는 코드를 제외하면 두 메서드는 거의 동일하다.</li>\n<li>중복을 줄이기 위해 템플릿 에서드 패턴을 적용한다면?</li>\n</ul>\n<h4>예제 5. 좋은 예 👍</h4>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token keyword\">abstract</span> <span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">VacationPolicy</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">accrueVacation</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">caculateBseVacationHours</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token function\">alterForLegalMinimums</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token function\">applyToPayroll</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n  \n  <span class=\"token keyword\">private</span> <span class=\"token keyword\">void</span> <span class=\"token function\">calculateBaseVacationHours</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> <span class=\"token comment\">/* ... */</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">abstract</span> <span class=\"token keyword\">protected</span> <span class=\"token keyword\">void</span> <span class=\"token function\">alterForLegalMinimums</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">private</span> <span class=\"token keyword\">void</span> <span class=\"token function\">applyToPayroll</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> <span class=\"token comment\">/* ... */</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n \n<span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">USVacationPolicy</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">VacationPolicy</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token annotation punctuation\">@Override</span> <span class=\"token keyword\">protected</span> <span class=\"token keyword\">void</span> <span class=\"token function\">alterForLegalMinimums</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">// 미국 최소 법정 일수를 사용한다.</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n \n<span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">EUVacationPolicy</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">VacationPolicy</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token annotation punctuation\">@Override</span> <span class=\"token keyword\">protected</span> <span class=\"token keyword\">void</span> <span class=\"token function\">alterForLegalMinimums</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">// 유럽연합 최소 법정 일수를 사용한다.</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<ul>\n<li>공통된 알고리즘을 accrueVacation 템플릿 메서드에 담고, 동일한 내용에 대해서는 메서드를 구현하고 다른 내용(미국/유럽연합)은 하위 클래스가 구현하도록 abstract 메서드로 만든다.</li>\n<li>하위 클래스 UsVacationPolicy, EUVacationPolicy는 각자의 알고리즘을 구현한다.</li>\n</ul>\n<hr>\n<h2>4. 의도를 표현한다</h2>\n<ol>\n<li>좋은 이름을 선택한다.</li>\n<li>\n<p>함수와 클래스 크기를 가능한 줄인다.</p>\n<ul>\n<li>작은 클래스와 작은 함수는 이름 짓기도 쉬우니까!</li>\n</ul>\n</li>\n<li>\n<p>표준 명칭을 사용한다. 다른 개발자가 보고 바로 이해할 수 있도록</p>\n<ul>\n<li>디자인 패턴을 사용했다면 그 이름을 클래스에 넣어준다.</li>\n</ul>\n</li>\n<li>단위 테스트 케이스를 꼼꼼하게 작성한다.</li>\n<li>다른 사람을 위해 조금이라도 더 읽기 쉽게 만드려고 노력한다.</li>\n</ol>\n<hr>\n<h2>5. 실용적 관점에서 타협한다</h2>\n<h3>과도한 설계 No</h3>\n<ul>\n<li>여러가지 규칙에 극단적으로 심취해 클래스와 메서드를 무수하게 만들지 말라.</li>\n<li>결국 좋은 코드를 만드는 이유는 생산성을 올리기 위한 것이다.</li>\n<li>실용적인 관점에서 타협해야 한다.</li>\n</ul>\n<p><strong>“개집 짓는데 사람 집 지으면 안된다”</strong></p>\n<h3>DIP</h3>\n<p><strong>상위 모델은 하위 모델에 의존하면 안된다. 둘 다 추상화에 의존해야 한다.\n추상화는 세부 사항에 의존해서는 안된다. 세부 사항은 추상화에 따라 달라진다.</strong></p>\n<ul>\n<li>하위 모텔의 변경이 상위 모듈의 변경을 요구하는 위계관계를 끊는다.</li>\n<li>실제 사용관계는 그대로이지만, 추상화를 매개로 메시지를 주고 받으면서 관계를 느슨하게 만든다.</li>\n</ul>\n<h4>예제 6. 확장성이 떨어지는 예제</h4>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">PaymentController</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token annotation punctuation\">@RequestMapping</span><span class=\"token punctuation\">(</span>value <span class=\"token operator\">=</span> <span class=\"token string\">\"/api/payment\"</span><span class=\"token punctuation\">,</span> method <span class=\"token operator\">=</span> <span class=\"token class-name\">RequestMethod</span><span class=\"token punctuation\">.</span><span class=\"token constant\">POST</span><span class=\"token punctuation\">)</span>\n  <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">pay</span><span class=\"token punctuation\">(</span><span class=\"token annotation punctuation\">@RequestBody</span> <span class=\"token class-name\">ShinhanCardDto<span class=\"token punctuation\">.</span>PaymentRequest</span> req<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    shinhanCardPaymentService<span class=\"token punctuation\">.</span><span class=\"token function\">pay</span><span class=\"token punctuation\">(</span>req<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">ShinhanCardPaymentService</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token class-name\"><span class=\"token namespace\">payShinhanCardDto<span class=\"token punctuation\">.</span></span>PaymentRquest</span> req<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    shinhanCardApi<span class=\"token punctuation\">.</span><span class=\"token function\">pay</span><span class=\"token punctuation\">(</span>req<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p><del>새로운 카드사가 추가된다면</del><br>\n카드사 직영 가맹점이라 다른 카드는 절대 쓸 수 없다.</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">PaymentController</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token annotation punctuation\">@RequestMapping</span><span class=\"token punctuation\">(</span>value <span class=\"token operator\">=</span> <span class=\"token string\">\"/api/payment\"</span><span class=\"token punctuation\">,</span> method <span class=\"token operator\">=</span> <span class=\"token class-name\">RequestMethod</span><span class=\"token punctuation\">.</span><span class=\"token constant\">POST</span><span class=\"token punctuation\">)</span>\n  <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">pay</span><span class=\"token punctuation\">(</span><span class=\"token annotation punctuation\">@RequestBody</span> <span class=\"token class-name\">CardPaymentDto<span class=\"token punctuation\">.</span>PaymentRequest</span> req<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>req<span class=\"token punctuation\">.</span><span class=\"token function\">getType</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">==</span> <span class=\"token class-name\">CardType</span><span class=\"token punctuation\">.</span><span class=\"token constant\">SHINHAN</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    shinhanCardPaymentService<span class=\"token punctuation\">.</span><span class=\"token function\">pay</span><span class=\"token punctuation\">(</span>req<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span>req<span class=\"token punctuation\">.</span><span class=\"token function\">getType</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">==</span> <span class=\"token class-name\">CardType</span><span class=\"token punctuation\">.</span><span class=\"token constant\">WOORI</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    wooriCardPaymentService<span class=\"token punctuation\">.</span><span class=\"token function\">pay</span><span class=\"token punctuation\">(</span>req<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p><del>확장에 유연하지 않다..</del><br/>\n확장에 유연할 필요가 없어진다..</p>\n<p><span class='gatsby-resp-image-wrapper' style='position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;'>\n      <a class='gatsby-resp-image-link' href='/static/600a542193d6e6372ebe132de1e914e8/4259f/img_1.png' style='display: block' target='_blank' rel='noopener'>\n    <span class='gatsby-resp-image-background-image' style=\"padding-bottom: 28.82352941176471%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAAAsTAAALEwEAmpwYAAAA9UlEQVQY031Ry27DIBDk/z8gp35BL/mFPs6VUqm3Sr00PtjETwzYYDzdIXFk5VCk1cLuwMwOCv+slbGuOfYrXjSmn2/E4veOA3GSVNu2aJoGIQSklPK+qioMw5BB21qWBV3XodIaVnrRWWjBXY7PCKePK7ncV845WGsxTRO89+j7HvM8w0udoFQUSOczouxZI24Wcus8KKZ/OsB9fd5GWqG2kRhUaIyBFhVGHs7jvb0jvLxe8dKPMWIcxywiCnEU5UbOrLGn9t6QnQo3tXsy3PwkGS2p6xqLEPDhsiyzVbyjHk2nV1s8fgbPtIOTsM9M76mMPeY/cVnSuMHZ8yQAAAAASUVORK5CYII='); background-size: cover; display: block;\"></span>\n  <img class='gatsby-resp-image-image' alt='img 1' title='img 1' src='/static/600a542193d6e6372ebe132de1e914e8/ca1dc/img_1.png' srcset='/static/600a542193d6e6372ebe132de1e914e8/e7570/img_1.png 170w,\n/static/600a542193d6e6372ebe132de1e914e8/f46e7/img_1.png 340w,\n/static/600a542193d6e6372ebe132de1e914e8/ca1dc/img_1.png 680w,\n/static/600a542193d6e6372ebe132de1e914e8/02d09/img_1.png 1020w,\n/static/600a542193d6e6372ebe132de1e914e8/9d567/img_1.png 1360w,\n/static/600a542193d6e6372ebe132de1e914e8/4259f/img_1.png 1381w' sizes='(max-width: 680px) 100vw, 680px' style='width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;' loading='lazy' decoding='async'>\n  </a>\n    </span>\n<del>둘 다 추상화된 인터페이스에 의존하도록 한다.</del><br/>\n하나만 있을 클래스에 인터페이스를 만들 필요가 없다.</p>\n<h3>예상치 못한 변경이 발생한다면?</h3>\n<p><del>카드사 직영 가맹점이라 다른 카드는 절대 쓸 수 없다.</del><br/>\n새로운 카드사와 합병하여. 두 가지 카드를 쓰게 됐다..!</p>\n<blockquote>\n<p>그럼 그때 확장하는 설계를 하면 된다.<br>\n거의 발생하지 않을 일에 미리 투자하는 비용이 더 크다.</p>\n</blockquote>","frontmatter":{"title":"[클린코드-11] 창발적 설계로 깔끔한 코드 구현하기","date":"July 05, 2024","update":"July 05, 2024","tags":["독서","Clean Code"],"series":"Clean Code"},"fields":{"slug":"/CleanCode-11/","readingTime":{"minutes":9.785}}},"seriesList":{"edges":[{"node":{"id":"b406bb1d-20e8-56cf-aeb9-372b40275c78","fields":{"slug":"/CleanCode-1/"},"frontmatter":{"title":"[클린코드-1] 클린 코드와 그 첫걸음"}}},{"node":{"id":"d34f1573-694e-5d31-9fc0-6abc568f788b","fields":{"slug":"/CleanCode-2/"},"frontmatter":{"title":"[클린코드-2] 함수를 안전하고 간결하게 작성하기"}}},{"node":{"id":"2561081f-3b40-5810-aed4-4688770e362d","fields":{"slug":"/CleanCode-3/"},"frontmatter":{"title":"[클린코드-3] 코드를 보조하는 주석"}}},{"node":{"id":"8bfe4c44-e879-5335-b3be-9acce01ed2f5","fields":{"slug":"/CleanCode-4/"},"frontmatter":{"title":"[클린코드-4] 코드의 가독성에 필수적인 포맷팅"}}},{"node":{"id":"cdf67bfa-eb4b-5d41-98f4-02a410c11737","fields":{"slug":"/CleanCode-5/"},"frontmatter":{"title":"[클린코드-5] 객체와 자료구조로 데이터 표현하기"}}},{"node":{"id":"7725a8eb-56b3-5e37-b8c3-fbb65def1d62","fields":{"slug":"/CleanCode-6/"},"frontmatter":{"title":"[클린코드-6] 우아하게 예외 처리하기"}}},{"node":{"id":"4e262a40-e19d-5830-a48c-e46c38f62ce8","fields":{"slug":"/CleanCode-7/"},"frontmatter":{"title":"[클린코드-7] 모호한 경계를 적당히 구분짓기"}}},{"node":{"id":"be7a0d17-10d6-5dda-b0ad-86b9b87794df","fields":{"slug":"/CleanCode-8/"},"frontmatter":{"title":"[클린코드-8] 깨끗한 테스트 코드"}}},{"node":{"id":"7cffdb26-f508-50f1-ac60-9d891e5a4456","fields":{"slug":"/CleanCode-9/"},"frontmatter":{"title":"[클린코드-9] 클래스 잘 설계하기"}}},{"node":{"id":"6b99e341-03c1-5ef1-b715-2f9e60cb34c9","fields":{"slug":"/CleanCode-10/"},"frontmatter":{"title":"[클린코드-10] 클래스 잘 설계하기"}}},{"node":{"id":"de25428c-8bc8-5e86-8726-6dbcb1b4bf08","fields":{"slug":"/CleanCode-11/"},"frontmatter":{"title":"[클린코드-11] 창발적 설계로 깔끔한 코드 구현하기"}}}]},"previous":{"fields":{"slug":"/CleanCode-10/"},"frontmatter":{"title":"[클린코드-10] 클래스 잘 설계하기"}},"next":null},"pageContext":{"id":"de25428c-8bc8-5e86-8726-6dbcb1b4bf08","series":"Clean Code","previousPostId":"6b99e341-03c1-5ef1-b715-2f9e60cb34c9","nextPostId":null}},"staticQueryHashes":[]}